; PlatformIO Project Configuration File


[env]
platform = platformio/espressif32 @ 5.1.0
framework = arduino
platform_packages =
    platformio/framework-arduinoespressif32 @ ~3.20004.0
; Note: For ESPHome, for some reason we NEED the following versions instead:
; (Due to some issue related to flash_mode causing bootloops..)
;esp32:
;  board: wemos_d1_mini32
;  framework:
;    type: arduino
;    version: 2.0.3
;    platform_version: 5.0.0

lib_deps = 
  ropg/ezTime @ 0.8.3
  https://github.com/RoboMagus/WiFiManager.git#customizations_old
  https://github.com/knolleary/PubSubClient#v2.8
  
build_flags = 
; Do Not Modify:
  -DARDUINO_STACK_SIZE=4096
  -DCORE_DEBUG_LEVEL=3
;  -DCORE_DEBUG_LEVEL=4
  -DCONFIG_BLINK_GPIO=2
  -DESP32=1
  -DMQTT_MAX_PACKET_SIZE=512
  -DWM_MDNS=1
  -DWM_ERASE_NVS=1
  -DWM_DEBUG_LEVEL=DEBUG_NOTIFY
  -Wno-missing-field-initializers
  -Wno-unused-variable
; Can Modify:
  -DAP_PASSWD=\"abc45678\"
  -DHTTPD_USER=\"admin\"
  -DHTTPD_PASSWD=\"1234\"
  -DMAX_NUM_STORED_BLUETOOTH_DEVICES=8
  -DDUMPTIMEMEMINTERVAL=10
;  -DNO_USE_TELNET_SERIAL

monitor_filters = esp32_exception_decoder
monitor_speed = 115200

; >>>>>>>>>>>
; For OTA update and remote debugging
;
; monitor_port = socket://192.168.1.200:23
; upload_protocol = espota
; upload_port = 192.168.1.200
; upload_flags =
;   --port=3232
;   --auth=admin
; <<<<<<<<<<<

[env:wemos_d1_mini32]
board = wemos_d1_mini32
board_build.partitions = partitions_custom.csv
board_upload.maximum_size = 2031616
